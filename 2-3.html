<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JavaScript-syntax-learning</title>
    <link rel="stylesheet" href="./hightlight/default.min.css" />
    <link
      rel="stylesheet"
      href=" https://necolas.github.io/normalize.css/8.0.1/normalize.css"
    />
    <link rel="stylesheet" href="./css/main.css" />
    <script src="./hightlight/hightlight.min.js"></script>
    <script>
      hljs.highlightAll();
    </script>
  </head>
  <body>
    <nav>
      <h1>現代 Javascript 實務應用</h1>
    </nav>
    <main>
      <aside></aside>
      <section>
        <h2>2-3 解構賦值</h2>
        <h3>2-3-1 物件解構賦值</h3>
        <pre><code class="language-js">
          var character = {
            name: 'Bruce',
            pseudonym: 'Batman',
            metadata:{
              age:34,
              gender:'male'
            },
            weapons:['gas pellet','bat-mobile','bat-cuffs']
          }

          // before ES6
          var pseudonym = character.pseudonym
          var name = character.name
          // after ES6
          let { pseudonym , name} = character

          // 別名
          let { pseudonym: alias } = character
          console.log(alias) // 'Batman'

          // 巢狀取值
          let { metadata: { gender }} = character
          console.log(gender) // 'male'

          // 存取一個不存在的值會拿到 undefined
          console.log(character.boot) // undefined
          console.log(character['boot]') // undefined
          let { boot } = character
          console.log(boot) // undefined

          // 從一個不存在的值存取東西會報 Exception
          var nothing = null
          var missing = nothing.missing // Exception
          var { missing } = nothing  // Exception
          var { boots:{ size }} = character // Exception

          // 設定初始值
          var { boots = { size:10 }} = character
          console.log(boot) // { size:10 }
          
        </code></pre>

        <h3>2-3-2 陣列解構賦值</h3>
        <pre><code class="language-js">
          // 抽取陣列值
          var coordinates = [12 , -7]
          var [ x , y ] = coordinates
          console.log( x , y ) // 12 , -7

          //  抽取過程省略不需要用到的值
          var name = ['James', 'L.' , 'Htt']
          var [firstName,,lastName] = name
          console.log( firstName , lastName ) // 'James' , 'Htt'

          // 可以設定初始值
          var name = ['James', 'L.' , 'Htt']
          var [firstName = 'John' , , lastName = 'Dio'] = name 
          console.log( firstName , lastName ) // 'John' , 'Htt'

          // 交換變數值
          // before ES6
          var left = 5
          var right = 7
          var temp = left 
          left = right 
          right = temp 

          // after ES6
          var left = 5
          var right = 7
          [left,right] = [right,left]
        </code></pre>

        <h3>2-3-3 函式參數指定初始值</h3>
        <pre><code class="language-js"></code>
          // 一般函式
          function powerOf( base , exponent = 2 ) {
            return Math.pow( base , exponent)
          }


          // 箭頭函式
          var double = (input = 0) => input * 2
          
          // 部分使用初始值
          function sumOf( a = 1 , b = 2 , c = 3){
            return a + b + c
          }
          console.log(sumOf(undefined , undefined , 4)) // 1+2+4 = 7

          // 設定初始物件
          var defaultOption = { brand: 'Volkswagen' , make: 1999 }
          function carFactory( option = defaultOption ) {
            console.log(carFactory.brand)
            console.log(carFactory.make)
          }

          carFactory() // 'Volkswagen' , 1999
          carFactory({ make: 2000}) // undefined , 2000

        </code></pre>
      </section>
    </main>
  </body>
  <script src="./menu.js"></script>
</html>
